<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Code Everything</title>
  <style>
    p {
        font-size: 18px;
        margin: 0px;
    }
  </style>
  
</head>
<body>
    <div id="output"></div>

    <script type = "text/javascript">
        //sendStringValueToIOS();
        //sendJsonValueToIOS();
        // This function sends a simple json value to iOS app
        function sendJsonValueToIOS() {
            // Here iOSNative is the name we passed from iOS app
            window.webkit.messageHandlers.iOSNative.postMessage({Name : "John Doe"});
        }
        // This function sends a string value to iOS app
        function sendStringValueToIOS() {
            // Here iOSNative is the name we passed from iOS app
            window.webkit.messageHandlers.iOSNative.postMessage("Bla Bla Bla");
        }
        
    </script>
    <script>
        function loadScript(content) {
            var newScript = document.createElement("script");
            //newScript.setAttribute("async", "false");
            newScript.addEventListener("load", scriptLoaded, false);
            var inlineScript = document.createTextNode(content);
            newScript.appendChild(inlineScript);
            
            document.body.appendChild(newScript);
            //let head = document.body;
            //head.insertBefore(myCoolCode, head.firstElementChild);
            //writeln(content);
            main();
        }
    
          function scriptLoaded(){
              writeln("script loaded");
          }
    
        function writeln(value) {
            var output = document.getElementById("output");
            var line = document.createElement("p");
            line.innerHTML = value;
            output.appendChild(line);
        }
    </script>
</body>
</html>
